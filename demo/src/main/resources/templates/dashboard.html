<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduShare Dashboard</title>
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
	
	<div id="popup" class="popup">
	        <div class="popup-content">
	            <span class="close-btn" onclick="closePopup()">&times;</span>
				<img src = "/images/reklam.png" style= "width: 500px">
	        </div>
	    </div>

    <!-- Header Section -->
    <header>
        <div class="logo">EduShare</div>
        <nav class="navbar">
            <a href="#about-us">Hakkımızda</a>
            <a href="#team">Ekibimiz</a>
            <a href="#contact">İletişim</a>
            <div class="profile-menu">
                <div class="profile-icon" onclick="toggleDropdown()">
                    <i class="fa-solid fa-user"></i>
                </div>
				<div class="dropdown" id="profileDropdown">
				    <button class="dropdown-btn" onclick="account()">Hesap</button>
				    <button class="dropdown-btn" onclick="showNotifications()">Bildirimlerim</button>
				    <button class="dropdown-btn" onclick="ads()">İlanlarım</button>
				    <button class="dropdown-btn" onclick="logout()">Çıkış Yap</button>
				</div>

            </div>
        </nav>
    </header>
    
    
    


    <!-- Cards Section -->
        <div class="container">
            <!-- Ders Bölümü -->
            <div class="card">
                <img src="images/deers.png" alt="Dersler">
                <div class="card-content">
                    <h2>Dersler</h2>
                    <p>Üniversitenizdeki dersler için özel ders alabilir, dilerseniz yeni ders ilanları oluşturabilirsiniz!</p>
                    <a href="http://localhost:8080/show-ads" class="btn">Derslere Git</a>
                </div>
            </div>

            <!-- Forum Bölümü -->
            <div class="card">
                <img src="images/yeniforum.jpeg" alt="Forum">
                <div class="card-content">
                    <h2>Forum</h2>
                    <p>Diğer öğrencilerle etkileşimde bulunun, sorularınızı paylaşın ve çözüm bulun.</p>
                    <a href="http://localhost:8080/forum" class="btn">Forumlara Katıl</a>
                </div>
            </div>

            <!-- Harita Bölümü -->
            <div class="card">
                <img src="images/harita.jpg" alt="Harita">
                <div class="card-content">
                    <h2>Harita</h2>
                    <p>Kampüs içindeki olayları anlık olarak takip edin!</p>
                    <a href="#" class="btn">Çok Yakında..</a>
                </div>
            </div>
        </div>
    </main>


    <!-- About-us Section -->
    <section id="about-us">
        <div class="about-container">
            <h2>Hakkımızda</h2>
            <p class="about-text">
                EduShare, üniversitemize özel bir web uygulamasıdır. İhtiyaçlarınıza göre ilan oluşturmanızı, 
                
    <main>oluşturulan ilanlara göz atmanızı, forumda soru sormayı ve yanıtlamayı, kampüs haritası üzerinden etkinlikleri takip etmenizi sağlar.
            </p>
            <h3>Neden EduShare?</h3>
            <ul>
                <li><strong>Güvenli ve Öğrenci Dostu:</strong> Öğrencilerin birbirine destek olmasını sağlayan bir platform.</li>
                <li><strong>Yeteneklerinizi Paylaşın:</strong> Kendinizi geliştirin ve yeteneklerinizi diğer öğrencilere ulaştırın.</li>
                <li><strong>Sıkça Sorulan Sorular:</strong> Daha önce sorulmuş soruları görün ve cevaplayın.</li>
                <li><strong>Etkinlik Bilgisi:</strong> Kampüsteki etkinlikleri anında takip edin.</li>
            </ul>
        </div>
    </section>
    
        <!-- Team -->
    <section id="team" class="team">
        <div class="container text-center">
            <h2>Ekibimiz</h2>
            <div class="row">
                <div class="col-6"> 
                    <img src="images/photo2.jpg" alt="Melis Kırık" class="img-fluid rounded-circle">
                    <h3>    Melis Kırık    </h3>
                    <p>Developer</p>
                </div>
                <div class="col-6">
                    <img src="images/photo1.jpg" alt="Ali Koray Ürün" class="img-fluid rounded-circle">
                    <h3>Ali Koray Ürün</h3>
                    <p>Developer</p>
                </div>
                <div class="col-6">
                    <img src="images/photo4.jpg" alt="Yaren Öztekin" class="img-fluid rounded-circle">
                    <h3>Yaren Öztekin</h3>
                    <p>Developer</p>
                </div>
                <div class="col-6">
                    <img src="images/photo3.jpg" alt="Uygar Sevim" class="img-fluid rounded-circle">
                    <h3>Uygar Sevim</h3>
                    <p>Developer</p>
                </div>
            </div>
        </div>
    </section>



     <!-- Contact Us -->
    <section id="contact" class="contact">
        <div class="container text-center">
             <h2>Bizimle İletişime Geçin!</h2>
             <p>Sorularınız için lütfen bize ulaşın:</p>
             <p>Email: <a href="mailto:info@edushare.com">info@edushare.com</a></p>
        </div>
    </section>


     
    <!-- Footer -->
    <footer>
        &copy; 2024 EduShare. Tüm Hakları Saklıdır.
    </footer>

     <!-- JS -->
    <script>
        function toggleDropdown() {
        const dropdown = document.getElementById("profileDropdown");
        dropdown.classList.toggle("active");
    }

	function showNotifications() {
		window.location.href = "http://localhost:8080/notifications";
	}
	
	function ads(){
		window.location.href = "http://localhost:8080/my-ads";
	}


		function logout() {
		    const loginType = localStorage.getItem("loginType");

		    if (loginType === "google") {
		        // Google oturumunu sonlandır
		        google.accounts.id.disableAutoSelect();

		        // Google oturumunu sonlandırma URL'sine yönlendir
		        const googleLogoutUrl = "https://accounts.google.com/Logout";

		        // Google erişim tokenını da iptal et (isteğe bağlı)
		        google.accounts.id.revoke(localStorage.getItem("google_user_token"), () => {
		            console.log("Google oturumu sonlandırıldı.");
		        });

		        // Google çıkışını yaptıktan sonra logout işlemini devam ettir
		        window.location.href = googleLogoutUrl;
		        return; // Logout işlemi burada sonlanır
		    }

		    // Normal çıkış için backend ile iletişim kur
		    fetch("http://localhost:8080/user/logout", {
		        method: "POST",
		        headers: {
		            "Content-Type": "application/json"
		        }
		    })
		    .then(response => {
		        if (response.ok) {
		            // Kullanıcıyı logout sayfasına yönlendir
		            window.location.href = "http://localhost:8080/logout";
		        } else {
		            console.error("Logout failed:", response.statusText);
		            alert("Logout işlemi başarısız oldu.");
		        }
		    })
		    .catch(error => {
		        console.error("Error during logout:", error);
		        alert("Bir hata oluştu.");
		    });
		}

        // Profil dışında bir yere tıklandığında dropdown'ı kapat
        document.addEventListener("click", (event) => {
            const profileMenu = document.querySelector(".profile-menu");
            const dropdown = document.getElementById("profileDropdown");

            if (!profileMenu.contains(event.target)) {
                dropdown.classList.remove("active");
            }
        });
		
		
		function closePopup() {
		    const popup = document.getElementById("popup");
		    popup.style.display = "none";
		}

        
    </script>
</body>
</html>